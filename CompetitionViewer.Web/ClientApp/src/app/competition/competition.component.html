<h1 id="tableLabel">Drag Results</h1>

<p *ngIf="raceMessages.length == 0"><em>Waiting for results...</em></p>

<div *ngFor="let msg of raceMessages" style="border: 2px solid gray; margin-bottom: 5px;">
  <table class='table' *ngIf="msg.results.length > 0">
    <thead>
      <tr>
        <th>Race ID</th>
        <th>Timestamp</th>
        <th>Round</th>
        <th>Racer ID</th>
        <th>Lane</th>
        <th>Result</th>
        <th>Reaction</th>
        <th>60ft</th>
        <th>ET</th>
        <th>ET speed</th>
        <th>Dial In</th>
        <th>Time difference</th>
        <th>Dial-in difference</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let result of msg.results">
        <td>{{ msg.raceId }}</td>
        <td>{{ msg.timestamp | date:'yyyy-MM-dd HH:mm:ss' }}</td>
        <td>{{ msg.round }}</td>
        <td>{{ result.racerId }}</td>
        <td>{{ result.lanePosition | lane }}</td>
        <td>{{ result.result | raceResult }}</td>
        <td>{{ result.reactionTime }}</td>
        <td>{{ result.sixtyFeetTime }}</td>
        <td>{{ result.finishTime }}</td>
        <td>{{ result.finishSpeed }}</td>
        <td>{{ result.dialIn }}</td>
        <td>{{ msg | timeDifference: result }}</td>
        <td>{{ result | dialInAccuracy }}</td>
      </tr>
    </tbody>
  </table>
</div>
